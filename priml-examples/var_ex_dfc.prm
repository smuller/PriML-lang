priority A
priority B
 
main {

(*
    ret (let val x = A in B end)
*)

    ret (let val x = A in if true then x else B end)

(*
    ret (if true then A else B)
*)

(*
    t <- let val x = A in spawn[x] { ret 1 } end;
    x <- sync t;
    ret x
*)

}